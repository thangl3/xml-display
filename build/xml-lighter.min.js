"use strict";!function(e){var t=function(){"use strict";var b={switchMorePrefix:"more-",switchLessPrefix:"less-",switchMoreAction:"show",switchLessAction:"hide",classContainer:"xml-display",classNodeContainer:"xml",classInline:"inline-flex",classNodeName:"node-name",classNodeValue:"node-value",classSwitcher:"switcher",classBracket:"bracket",classBracketOpen:"bracket-open",classBracketClose:"bracket-close",classBracketCloseWithSlash:"bracket-close-slash",classBracketOpenWithSlash:"bracket-open-slash",classEquals:"equals",classAttributeName:"node-attribute-name",classAttributeValue:"node-attribute-value",classDivContainer:"node",classNodeParent:"node-parent",classNodeCollapsed:"node-collapsed",classNodeUncollapse:"node-uncollapse",classSwitcherCollapsed:"collapsed",classAddLineCode:"line-code",classOneLineCode:"one-line-code"},e;return function e(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var x={containerTag:"div",containerPosition:"relative",indentSpace:4,pxOfOnceSpace:6,removeComment:true,nodeLowerCase:false,nodeUpperCase:false,inline:true,useShortTag:true};Object.assign(x,a);function n(e){return(e||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")}function A(e){e=e||"";if(x.nodeUpperCase){return e.toUpperCase()}else if(x.nodeLowerCase){return e.toLowerCase()}return e}var s=function e(a){var s=null;a=n(a);if(window.ActiveXObject){s=new ActiveXObject("Microsoft.XMLDOM").loadXML(a)}else if(DOMParser){s=(new DOMParser).parseFromString(a,"application/xml")}return s};var l=function e(a){var m=1;var v=0;function N(e,a){e.style.display=a?"block":"none"}function s(e,a,s){e.addEventListener(a,s)}function n(e,a){e.removeEventListener(e)}function t(e){var a,s;var n=e.dataset.action;var l=e.dataset.id;if(n===b.switchMoreAction){s=document.getElementById(b.switchMorePrefix+l);a=document.getElementById(b.switchLessPrefix+l)}else if(n===b.switchLessAction){a=document.getElementById(b.switchMorePrefix+l);s=document.getElementById(b.switchLessPrefix+l)}N(s.parentNode,false);N(a.parentNode,true)}function k(e,a,s,n){e=e||x.containerTag;var l=document.createElement(e);if(Array.isArray(a)){var t=a.length;var i=0;for(i;i<t;++i){l.classList.add(a[i])}}else{l.className=a||b.classDivContainer}if(s!=false){l.style.position=s||x.containerPosition}if(n!==false){l.style.marginLeft=c(v)}return l}function w(e,a){e.classList.add(a)}function B(e,a,s){var n=k(s||"span",false,false,false);if(Array.isArray(a)){var l=a.length;var t=0;for(t;t<l;++t){n.classList.add(a[t])}}else if(typeof a==="string"){n.className=a}n.appendChild(document.createTextNode(e||""));return n}function L(e,a){if(a){var s=a.length;var n=0,l;for(n;n<s;++n){l=a.item(n);e.appendChild(B(" "+A(l.nodeName),b.classAttributeName));e.appendChild(B("=",b.classEquals));e.appendChild(B('"'+l.nodeValue+'"',b.classAttributeValue))}}}function c(e){return e*x.pxOfOnceSpace+"px"}function g(e,a){var s,n,l;if(e){s=b.switchLessAction;n=b.switchLessPrefix;l=B("",[b.classSwitcher,b.classSwitcherCollapsed])}else{s=b.switchMoreAction;n=b.switchMorePrefix;l=B("",b.classSwitcher)}l.dataset.action=s;l.dataset.id=a;l.onclick=function(){t(this)};l.id=n+a;return l}function O(e,a,s){if(!a||!e){return false}if(s!==undefined){v=s}if(a.childNodes.length===0&&x.useShortTag){var n=k();n.appendChild(k("span",b.classOneLineCode,null,false));n.appendChild(B("<",[b.classBracket,b.classBracketOpen]));n.appendChild(B(A(a.nodeName),b.classNodeName));L(n,a.attributes);n.appendChild(B(" />",[b.classBracket,b.classBracketCloseWithSlash]));w(n,b.classNodeUncollapse);e.appendChild(n)}else{var l=a.childNodes.length>1||!x.inline&&a.childNodes.length>0;if(l){var t=k(null,[b.classDivContainer,b.classNodeCollapsed]);t.appendChild(g(true,m));t.appendChild(B("<",[b.classBracket,b.classBracketOpen]));t.appendChild(B(A(a.nodeName),b.classNodeName));L(t,a.attributes);t.appendChild(B(">",[b.classBracket,b.classBracketClose]));t.appendChild(B("</",[b.classBracket,b.classBracketOpenWithSlash]));t.appendChild(B(A(a.nodeName),b.classNodeName));t.appendChild(B(">",[b.classBracket,b.classBracketClose]));e.appendChild(t);N(t,false)}var i=k();w(i,b.classNodeUncollapse);if(l){i.appendChild(g(false,m));i.appendChild(k("span",b.classAddLineCode,"absolute",false));w(i,b.classNodeParent)}m++;i.appendChild(k("span",b.classOneLineCode,false,false));i.appendChild(B("<",[b.classBracket,b.classBracketOpen]));i.appendChild(B(A(a.nodeName),b.classNodeName));L(i,a.attributes);i.appendChild(B(">",[b.classBracket,b.classBracketClose]));var c=a.childNodes.length;var r=0,d,o;var p=true;for(r;r<c;++r){d=a.childNodes.item(r);if(x.removeComment){p=d.nodeName!=="#comment"&&d.nodeName!=="#text"}else{p=d.nodeName!=="#text"}if(p){O(i,d,x.indentSpace)}else{o=d.nodeValue}}if(o){var f=x.inline?b.classInline:false;var h=x.inline?false:null;var u=x.inline?false:null;var C=k(null,f,h,u);C.appendChild(B(o,b.classNodeValue));i.appendChild(C);i.appendChild(k("span",b.classOneLineCode,false,false))}i.appendChild(B("</",[b.classBracket,b.classBracketOpenWithSlash]));i.appendChild(B(A(a.nodeName),b.classNodeName));i.appendChild(B(">",[b.classBracket,b.classBracketClose]));e.appendChild(i)}return e}var l=k("div",false,false,false);l.className=b.classContainer;O(l,a,0);return l};return{convertToXmlDOM:s,render:l}}}();function a(e,a,s){var n,l;e&&(function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}(e),n=t(s),"string"==typeof(l=a)&&(l=n.convertToXmlDOM(a)),e.appendChild(n.render(l.documentElement)))}"function"==typeof define&&define.amd?define(["xmlLighter"],a):e.xmlLighter=a}(window);